using gold.structures.automaton.*
using gold.visualization.automaton.*

procedure main(args:String[]) begin
	Q := {"q_", "q0", "q1", "q2", "q3", "q4",
		  "q$", "B"}
	Σ := ('a'‥'z')∪{' ', '$'}
	Γ := ('a'‥'z')∪{'*', '$', '@', '#'}∪('0'‥'9')
	q := "q1"
	F := {"q$"}
	
	A := GDeterministicTransducer(Q, Σ, Γ, q, F, δ, g, h)
	GAutomataFrame.show(A)
end

function δ(q, σ) begin
	// Acepta que el primer caracter sea un espacio o una letra
	if q = "q0" and σ in ('a'‥'z') then
        return "q2"
    elseif q = "q0" and σ = ' ' then
        return "q1"
	
	elseif q = "q1" and σ in ('a'‥'z') then
        return "q2"
    elseif q = "q2" and σ in ('a'‥'z') then
        return "q3"
    elseif q = "q3" and σ in ('a'‥'z') then
        return "q4"
    elseif q = "q4" and σ in ('a'‥'z') then
        return "q1"
        
    elseif q in {"q1", "q2", "q3", "q4"} and σ = ' ' then
        return "q_"
    elseif q = "q_" and σ in ('a'‥'z') then
        return "q2"
 
    else
        return "B"
    end

end

function g(q) begin
	return λ
end

function h(q, σ) begin
	return λ

end